# ATM
https://docs.google.com/document/d/1cz2_YtwMXTVLlDId_FlRzyFC0KZ7vqrfbMOhV505Xzo/edit


Банкомат. Сегодня описания будет мало.

Можно запустить при помощи runATM.bat файла.

Данные о пользователях находятся в файле ./cards.txt
Данные о купюрах находятся в фале ./banknotes.txt

Я хотел сделать через xml файлы, но в ТЗ написано "txt через пробел", ладно.

Запускается. Нужно ввести номер карты (16 цифр в формате ХХХХХХХХХХХХХХХХ). Далее вводим пинкод (4 цифры ХХХХ).
Если такой аккаунт найден, попадаем в "типа личный кабинет", там присутствуют функции:
- Проверка баланса
- Снятие наличных
- Пополнение счета
- Сменить пинкод
- Информация о счете
- Выход(смена аккаунта)

Проверка баланса отображает баланс. Снятие наличных происходит следующим образом: 1. пользователь вводит сумму, которую хочет снять; 2. Программа проверяет, возможно ли выдать эту сумму имеющимися купюрами; 3. Если да, предлагает пользователю варианты(пять пятёрок и двадцатка / девять пятёрок / четыре десятки и пятёрка). 4. Если нет - просит ввести новую сумму. 5. Если норм - выдаёт. Снимает деньги со счета, еще отнимает выданное количество купюр. Кстати, вариантов купюр всего 3(5, 10, 20), можно было сделать больше, но в задании про это совсем ничего не сказано, поэтому я не сильно парился, а сделал то, что первое пришло в голову. Но можно было бы даааа. Сделать дженерик методы, которые бы сами разбирались, какие там купюры, оооооооо можно было бы столько всего сделать. Потом еще посижу переделаю.

Продолжение. После каждого важного действия файлики обновляются. С пополнением счета я не заморачивался, сделал банальное добавление введенной суммы на счет. Сменить пинкод: 1. Вводим текущий пинкод, если он верный: 2. Вводим новый пинкод. Информация о счете просто выводит все данные о счёте: 
- Номер карты
- Пинкод
- Баланс
- Статус блокировки

Если карта заблокирована, то:
- Дата блокировки
- Срок блокировки

Кстати, о блокировках. Если 3 раза неверно ввести пинкод, карта заблокируется на минуту(в ТЗ было 24 часа, но это как-то много). Во время блокировки, в заблокированный аккаунт зайти нельзя. Блокировка снимается автоматически, для этого был создан дополнительный поток, который каждые 20 секунд проверяет, не пора ли кого-нибудь разблокировать.
